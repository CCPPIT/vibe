// Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø§Ù„Ø¯ÙˆØ§Ù„ ÙˆØ§Ù„ÙˆØ­Ø¯Ø§Øª Ø§Ù„Ø¶Ø±ÙˆØ±ÙŠØ© Ù…Ù† React Query Ùˆsuperjson
import {
  defaultShouldDehydrateQuery, // Ø§Ù„Ø¯Ø§Ù„Ø© Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ© Ù„Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø¥Ù…ÙƒØ§Ù†ÙŠØ© ØªØ¬ÙÙŠÙ Ø§Ù„Ø§Ø³ØªØ¹Ù„Ø§Ù…
  QueryClient, // Ø§Ù„Ø¹Ù…ÙŠÙ„ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ø³ØªØ¹Ù„Ø§Ù…Ø§Øª React Query
} from '@tanstack/react-query';
import superjson from 'superjson'; // Ù…ÙƒØªØ¨Ø© Ù„Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø§Ù„ØªØ³ÙŠÙŠÙ„ (serialization) Ø§Ù„Ù…ØªÙ‚Ø¯Ù…

// Ø¯Ø§Ù„Ø© Ù„Ø¥Ù†Ø´Ø§Ø¡ ÙˆØªÙƒÙˆÙŠÙ† Ø¹Ù…ÙŠÙ„ Ø§Ø³ØªØ¹Ù„Ø§Ù…Ø§Øª Ù…Ø®ØµØµ
export function makeQueryClient() {
  // Ø¥Ø¹Ø§Ø¯Ø© Ø¹Ù…ÙŠÙ„ Ø§Ø³ØªØ¹Ù„Ø§Ù…Ø§Øª Ø¬Ø¯ÙŠØ¯ Ù…Ø¹ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ù…Ø®ØµØµØ©
  return new QueryClient({
    // Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ© Ù„Ù„Ø¹Ù…ÙŠÙ„
    defaultOptions: {
      // Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø§Ø³ØªØ¹Ù„Ø§Ù…Ø§Øª (Queries)
      queries: {
        // ÙˆÙ‚Øª Ø§Ù†ØªÙ‡Ø§Ø¡ ØµÙ„Ø§Ø­ÙŠØ© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª (Ø¨Ø§Ù„Ù…ÙŠÙ„ÙŠ Ø«Ø§Ù†ÙŠØ©) - 30 Ø«Ø§Ù†ÙŠØ©
        // Ø¨Ø¹Ø¯ Ù‡Ø°Ù‡ Ø§Ù„Ù…Ø¯Ø© ØªØµØ¨Ø­ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª "stale" ÙˆÙ‚Ø¯ ÙŠØªÙ… Ø¥Ø¹Ø§Ø¯Ø© fetch
        staleTime: 30 * 1000,
      },
      // Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø¹Ù…Ù„ÙŠØ© Ø§Ù„ØªØ¬ÙÙŠÙ (Dehydration) - Ù„Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø¤Ù‚Øª ÙÙŠ SSR
      dehydrate: {
        // âœ… ØªÙ… ØªØ¹Ù„ÙŠÙ‚ serializeData Ù„ÙˆØ¬ÙˆØ¯ Ù…Ø´ÙƒÙ„Ø© Ù…Ø­ØªÙ…Ù„Ø©
        // serializeData: superjson.serialize, // Ø§Ø³ØªØ®Ø¯Ø§Ù… superjson Ù„ØªØ³ÙŠÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
        
        // Ø§Ù„Ø¯Ø§Ù„Ø© Ø§Ù„ØªÙŠ ØªØ­Ø¯Ø¯ Ø¥Ø°Ø§ ÙƒØ§Ù† ÙŠØ¬Ø¨ ØªØ¬ÙÙŠÙ Ø§Ù„Ø§Ø³ØªØ¹Ù„Ø§Ù… Ø£Ù… Ù„Ø§
        shouldDehydrateQuery: (query) =>
          defaultShouldDehydrateQuery(query) || // Ø§Ù„Ø´Ø±Ø· Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ Ù„Ù„ØªØ¬ÙÙŠÙ
          query.state.status === 'pending', // || ØªØ¬ÙÙŠÙ Ø§Ù„Ø§Ø³ØªØ¹Ù„Ø§Ù…Ø§Øª Ø§Ù„ØªÙŠ Ù„Ø§ ØªØ²Ø§Ù„ Ù‚ÙŠØ¯ Ø§Ù„ØªÙ†ÙÙŠØ° (pending)
      },
      // Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø¹Ù…Ù„ÙŠØ© Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªÙ…ÙŠÙŠÙ‡ (Hydration) - Ù„Ø§Ø³ØªØ±Ø¬Ø§Ø¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø¬ÙÙØ©
      hydrate: {
        // âœ… ØªÙ… ØªØ¹Ù„ÙŠÙ‚ deserializeData Ù„ÙˆØ¬ÙˆØ¯ Ù…Ø´ÙƒÙ„Ø© Ù…Ø­ØªÙ…Ù„Ø©  
        // deserializeData: superjson.deserialize, // Ø§Ø³ØªØ®Ø¯Ø§Ù… superjson Ù„Ø¥Ø¹Ø§Ø¯Ø© ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
      },
    },
  });
}

// ðŸ“ Ø´Ø±Ø­ Ø§Ù„Ù…Ø´ÙƒÙ„Ø© Ø§Ù„Ù…Ø­ØªÙ…Ù„Ø©:

// âŒ Ø³Ø¨Ø¨ Ø§Ù„ØªØ¹Ù„ÙŠÙ‚ Ø¹Ù„Ù‰ superjson:
// - Ù‡Ù†Ø§Ùƒ Ù…Ø´ÙƒÙ„Ø© Ù…Ø¹Ø±ÙˆÙØ© ÙÙŠ ØªÙƒØ§Ù…Ù„ superjson Ù…Ø¹ Ø§Ù„Ø¥ØµØ¯Ø§Ø±Ø§Øª Ø§Ù„Ø­Ø¯ÙŠØ«Ø©
// - Ù‚Ø¯ ØªØ³Ø¨Ø¨ Ø£Ø®Ø·Ø§Ø¡ ÙÙŠ Ø§Ù„ØªØ³ÙŠÙŠÙ„ Ø£Ùˆ Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªÙ…ÙŠÙŠÙ‡
// - ÙŠØªÙ… Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø¨Ø¯ÙŠÙ„ Ø£Ùˆ Ø¥ØµÙ„Ø§Ø­ Ù„Ù„Ù…Ø´ÙƒÙ„Ø©

// ðŸ”„ Ø§Ù„Ø¨Ø¯Ø§Ø¦Ù„ Ø§Ù„Ù…Ù‚ØªØ±Ø­Ø©:

// 1. Ø§Ø³ØªØ®Ø¯Ø§Ù… JSON Ø§Ù„Ø¹Ø§Ø¯ÙŠ (Ù…Ø¤Ù‚ØªØ§Ù‹):
/*
dehydrate: {
  shouldDehydrateQuery: (query) =>
    defaultShouldDehydrateQuery(query) ||
    query.state.status === 'pending',
},
hydrate: {
  // Ù„Ø§ Ø­Ø§Ø¬Ø© Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©
}
*/

// 2. Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…Ø­ÙˆÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø¢Ø®Ø±:
/*
import { dehydrate } from '@tanstack/react-query';
dehydrate: {
  serializeData: (data) => JSON.parse(JSON.stringify(data)),
},
*/

// ðŸŽ¯ Ø§Ù„ØºØ±Ø¶ Ù…Ù† Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª:

// 1. staleTime: 30 * 1000 (30 Ø«Ø§Ù†ÙŠØ©)
//    - ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø£Ø¯Ø§Ø¡ Ø¨ØªÙ‚Ù„ÙŠÙ„ Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø´Ø¨ÙƒØ© Ø§Ù„Ù…ØªÙƒØ±Ø±Ø©
//    - Ø§Ù„Ø­ÙØ§Ø¸ Ø¹Ù„Ù‰ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª "Ø·Ø§Ø²Ø¬Ø©" Ù„Ù…Ø¯Ø© 30 Ø«Ø§Ù†ÙŠØ©

// 2. ØªØ¬ÙÙŠÙ Ø§Ù„Ø§Ø³ØªØ¹Ù„Ø§Ù…Ø§Øª pending:
//    - Ù…Ù‡Ù… Ù„ØªØ­Ø³ÙŠÙ† ØªØ¬Ø±Ø¨Ø© SSR
//    - ÙŠØ³Ù…Ø­ Ø¨Ø§Ø³ØªÙƒÙ…Ø§Ù„ Ø§Ù„Ø§Ø³ØªØ¹Ù„Ø§Ù…Ø§Øª Ø¹Ù„Ù‰ Ø§Ù„Ø¹Ù…ÙŠÙ„
//    - ÙŠÙ…Ù†Ø¹ Ø¥Ø¹Ø§Ø¯Ø© fetch ØºÙŠØ± Ø§Ù„Ø¶Ø±ÙˆØ±ÙŠØ©

// âš ï¸ Ø§Ù„Ù…Ø´Ø§ÙƒÙ„ Ø§Ù„Ù…Ø­ØªÙ…Ù„Ø©:

// 1. Ø¨Ø¯ÙˆÙ† superjson:
//    - ÙÙ‚Ø¯Ø§Ù† Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø¹Ù‚Ø¯Ø© (Date, Map, Set, etc.)
//    - ØªØ­ØªØ§Ø¬ Ø¥Ù„Ù‰ Ù…Ø¹Ø§Ù„Ø¬Ø© ÙŠØ¯ÙˆÙŠØ© Ù„Ù„Ø£Ù†ÙˆØ§Ø¹

// 2. Ù…Ø¹ superjson (Ù…Ø¹Ù„Ù‚ Ø­Ø§Ù„ÙŠØ§Ù‹):
//    - Ù…Ø´Ø§ÙƒÙ„ ÙÙŠ Ø§Ù„ØªÙˆØ§ÙÙ‚ Ù…Ø¹ Ø§Ù„Ø¥ØµØ¯Ø§Ø±Ø§Øª
//    - Ø£Ø®Ø·Ø§Ø¡ ÙÙŠ Ø¹Ù…Ù„ÙŠØ© Ø§Ù„ØªØ³ÙŠÙŠÙ„

// ðŸ’¡ Ø§Ù„Ø­Ù„ÙˆÙ„ Ø§Ù„Ù…Ù‚ØªØ±Ø­Ø©:

// Ø§Ù„Ø­Ù„ Ø§Ù„Ø£ÙˆÙ„: Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø± Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…ÙƒØªØ¨Ø§Øª
/*
// Ø¹Ù†Ø¯Ù…Ø§ ÙŠØªÙ… Ø¥ØµÙ„Ø§Ø­ Ø§Ù„Ù…Ø´ÙƒÙ„Ø©:
dehydrate: {
  serializeData: superjson.serialize,
  shouldDehydrateQuery: (query) =>
    defaultShouldDehydrateQuery(query) ||
    query.state.status === 'pending',
},
hydrate: {
  deserializeData: superjson.deserialize,
}
*/

// Ø§Ù„Ø­Ù„ Ø§Ù„Ø«Ø§Ù†ÙŠ: ØªÙ†ÙÙŠØ° Ù…Ø­ÙˆÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø®ØµØµ
/*
dehydrate: {
  serializeData: customSerializer,
  shouldDehydrateQuery: (query) =>
    defaultShouldDehydrateQuery(query) ||
    query.state.status === 'pending',
},
hydrate: {
  deserializeData: customDeserializer,
}
*/

// ðŸ”§ Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù…ØªÙˆÙ‚Ø¹:
// ÙŠØªÙ… Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ Ù‡Ø°Ù‡ Ø§Ù„Ø¯Ø§Ù„Ø© ÙÙŠ:
// - Ø§Ù„Ø®Ø§Ø¯Ù…: Ù„ÙƒÙ„ Ø·Ù„Ø¨ (Ù„Ø¶Ù…Ø§Ù† Ø§Ù„Ø¹Ø²Ù„)
// - Ø§Ù„Ø¹Ù…ÙŠÙ„: Ù…Ø±Ø© ÙˆØ§Ø­Ø¯Ø© (Ù„Ù„Ù…Ø´Ø§Ø±ÙƒØ© Ø¨ÙŠÙ† Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª)

// ðŸ“¦ Ù…Ø«Ø§Ù„ Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…:
/*
import { makeQueryClient } from './query-client';

// Ø¹Ù„Ù‰ Ø§Ù„Ø®Ø§Ø¯Ù… (ÙÙŠ ÙƒÙ„ Ø·Ù„Ø¨)
const queryClient = makeQueryClient();

// Ø¹Ù„Ù‰ Ø§Ù„Ø¹Ù…ÙŠÙ„ (Ù…Ø±Ø© ÙˆØ§Ø­Ø¯Ø©)
const [queryClient] = useState(() => makeQueryClient());
*/